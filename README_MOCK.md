# ローカル開発環境でのメール送信モック機能

開発環境では、実際のメール送信APIを呼び出さずに、モックレスポンスを返すことで動作確認ができます。

## 使い方

### 1. 開発サーバーを起動

```bash
npm run dev
```

### 2. 登録フローを確認

1. **メールアドレス入力** (`/registration`)
   - 任意のメールアドレスを入力
   - 「認証コードを送信」をクリック
   - 開発環境では実際のメールは送信されませんが、コンソールに `[MOCK] 認証メール送信:` と表示されます

2. **メール送信完了画面** (`/registration/email-sent`)
   - 送信完了メッセージが表示されます
   - 「認証メールを再送信」ボタンでもモック再送信が可能

3. **認証コード入力** (`/registration/verify`)
   - 開発環境では**任意の6桁の数字**で認証可能です
   - 例: `123456` を入力して「認証する」をクリック
   - URLパラメータ `?token=xxx` がある場合は自動認証を試みます

4. **個人情報入力** (`/registration/profile`)
   - 認証済みの場合のみ表示されます
   - 各項目を入力して「登録する」をクリック

5. **登録完了** (`/registration/complete`)
   - 登録完了メッセージが表示されます

## モック機能の詳細

### APIモックの動作

- **開発環境** (`npm run dev`): モックレスポンスを返します
- **本番環境** (`npm run build`): 実際のAPIを呼び出します

### モック時の動作

- 1秒の遅延をシミュレート（実際のAPI呼び出しを再現）
- コンソールにログを出力（開発者ツールで確認可能）
- エラーをシミュレートする場合は `src/utils/api.ts` のコメントアウトを外してください

### エラーシミュレーション

`src/utils/api.ts` の各関数で、エラーをシミュレートしたい場合は以下のコメントアウトを外してください：

```typescript
// エラーをシミュレートする場合はコメントアウトを外す
throw new Error('メール送信に失敗しました（モックエラー）');
```

## 認証コードについて

開発環境では、認証コード入力画面で**任意の6桁の数字**を入力すれば認証できます。

- 例: `123456`, `000000`, `999999` など

実際のメールは送信されませんが、登録フロー全体を確認できます。

## 注意事項

- 開発環境でのみモック機能が動作します
- 本番環境では実際のAPIエンドポイントを呼び出します
- APIエンドポイントは `src/utils/api.ts` で設定されています


